import streamlit as st
import graphviz

# --- ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ ---
st.set_page_config(page_title="Law Mapping System", layout="wide")

# --- ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡∏ï‡∏£‡∏≤‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢ (‡∏à‡∏±‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô Flow) ---
law_data = {
    "‡∏Ñ‡πâ‡∏≥‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô": {
        "nodes": [
            ("680", "‡∏°. 680\n‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏Ñ‡πâ‡∏≥‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô"), ("681", "‡∏°. 681\n‡∏´‡∏ô‡∏µ‡πâ‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå"), 
            ("681/1", "‡∏°. 681/1\n‡∏´‡πâ‡∏≤‡∏°‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏µ‡πâ‡∏£‡πà‡∏ß‡∏°"), ("682", "‡∏°. 682\n‡∏Ñ‡πâ‡∏≥‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏ô"),
            ("685", "‡∏°. 685\n‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô"), ("686", "‡∏°. 686\n‡∏Å‡∏≤‡∏£‡∏ö‡∏≠‡∏Å‡∏Å‡∏•‡πà‡∏≤‡∏ß (60 ‡∏ß‡∏±‡∏ô)"),
            ("687", "‡∏°. 687\n‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πÑ‡∏°‡πà‡∏ä‡∏≥‡∏£‡∏∞‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î"), ("688", "‡∏°. 688\n‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏ô‡πÅ‡∏£‡∏Å"),
            ("689", "‡∏°. 689\n‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏á‡πà‡∏≤‡∏¢"), ("690", "‡∏°. 690\n‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏à‡∏≥‡∏ô‡∏≥"),
            ("692", "‡∏°. 692\n‡∏≠‡∏≤‡∏¢‡∏∏‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏∏‡∏î‡∏´‡∏¢‡∏∏‡∏î‡∏•‡∏á"), ("693", "‡∏°. 693\n‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πÑ‡∏•‡πà‡πÄ‡∏ö‡∏µ‡πâ‡∏¢"),
            ("694", "‡∏°. 694\n‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏µ‡πâ"), ("695", "‡∏°. 695\n‡∏™‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ"),
            ("696", "‡∏°. 696\n‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡πÑ‡∏•‡πà‡πÄ‡∏ö‡∏µ‡πâ‡∏¢"), ("697", "‡∏°. 697\n‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡∏µ‡πâ‡∏ó‡∏≥‡πÄ‡∏™‡∏µ‡∏¢‡∏™‡∏¥‡∏ó‡∏ò‡∏¥"),
            ("699", "‡∏°. 699\n‡πÄ‡∏•‡∏¥‡∏Å‡∏Ñ‡πâ‡∏≥‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï"), ("701", "‡∏°. 701\n‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡∏ä‡∏≥‡∏£‡∏∞‡∏´‡∏ô‡∏µ‡πâ")
        ],
        "edges": [
            ("680", "681"), ("681", "681/1"), ("686", "688"), ("686", "689"), 
            ("686", "690"), ("693", "694"), ("693", "695")
        ],
        "color": "#E3F2FD" # ‡∏ü‡πâ‡∏≤‡∏≠‡πà‡∏≠‡∏ô
    },
    "‡∏à‡∏≥‡∏ô‡∏≠‡∏á": {
        "nodes": [
            ("702", "‡∏°. 702\n‡∏´‡∏•‡∏±‡∏Å‡∏à‡∏≥‡∏ô‡∏≠‡∏á"), ("703", "‡∏°. 703\n‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏à‡∏≥‡∏ô‡∏≠‡∏á‡πÑ‡∏î‡πâ"),
            ("705", "‡∏°. 705\n‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏à‡∏≥‡∏ô‡∏≠‡∏á"), ("709", "‡∏°. 709\n‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏´‡∏ô‡∏µ‡πâ‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô"),
            ("711", "‡∏°. 711\n‡∏Ç‡πâ‡∏≠‡∏ï‡∏Å‡∏•‡∏á‡πÇ‡∏°‡∏Ü‡∏∞"), ("712", "‡∏°. 712\n‡∏à‡∏≥‡∏ô‡∏≠‡∏á‡∏ã‡πâ‡∏≠‡∏ô"),
            ("713", "‡∏°. 713\n‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡πà‡∏á‡∏à‡∏≥‡∏ô‡∏≠‡∏á"), ("714", "‡∏°. 714\n‡πÅ‡∏ö‡∏ö (‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠/‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô)"),
            ("714/1", "‡∏°. 714/1\n‡∏Ç‡πâ‡∏≠‡∏ï‡∏Å‡∏•‡∏á‡∏ï‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏°‡∏Ü‡∏∞"), ("715", "‡∏°. 715\n‡∏´‡∏ô‡∏µ‡πâ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á"),
            ("716", "‡∏°. 716\n‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡πÅ‡∏¢‡∏Å‡∏™‡∏≤‡∏¢"), ("718", "‡∏°. 718\n‡∏Ñ‡∏£‡∏≠‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡∏ß‡∏ö"),
            ("719", "‡∏°. 719\n‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏≠‡∏ö‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà"), ("720", "‡∏°. 720\n‡∏Ñ‡∏£‡∏≠‡∏ö‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡∏ñ‡∏∂‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô"),
            ("721", "‡∏°. 721\n‡∏Ñ‡∏£‡∏≠‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£"), ("722", "‡∏°. 722\n‡∏•‡∏ö‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏™‡∏¥‡∏ó‡∏ò‡∏¥"),
            ("724", "‡∏°. 724\n‡∏ú‡∏π‡πâ‡∏à‡∏≥‡∏ô‡∏≠‡∏á‡πÑ‡∏•‡πà‡πÄ‡∏ö‡∏µ‡πâ‡∏¢"), ("727/1", "‡∏°. 727/1\n‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î"),
            ("728", "‡∏°. 728\n‡∏ö‡∏≠‡∏Å‡∏Å‡∏•‡πà‡∏≤‡∏ß‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö"), ("729/1", "‡∏°. 729/1\n‡∏Ç‡∏≤‡∏¢‡∏ó‡∏≠‡∏î‡∏ï‡∏•‡∏≤‡∏î‡πÄ‡∏≠‡∏á"),
            ("733", "‡∏°. 733\n‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≤‡∏î"), ("745", "‡∏°. 745\n‡∏Ç‡∏≤‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏Ñ‡∏ß‡∏≤‡∏°")
        ],
        "edges": [
            ("702", "714"), ("714", "718"), ("718", "719"), ("718", "720"),
            ("728", "729/1"), ("728", "733")
        ],
        "color": "#E8F5E9" # ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏≠‡πà‡∏≠‡∏ô
    },
    "‡∏à‡∏≥‡∏ô‡∏≥": {
        "nodes": [
            ("747", "‡∏°. 747\n‡∏´‡∏•‡∏±‡∏Å‡∏à‡∏≥‡∏ô‡∏≥ (‡∏™‡πà‡∏á‡∏°‡∏≠‡∏ö)"), ("748", "‡∏°. 748\n‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î"),
            ("758", "‡∏°. 758\n‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏¢‡∏∂‡∏î‡∏´‡∏ô‡πà‡∏ß‡∏á"), ("762", "‡∏°. 762\n‡∏Ñ‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå"),
            ("763", "‡∏°. 673\n‡∏≠‡∏≤‡∏¢‡∏∏‡∏Ñ‡∏ß‡∏≤‡∏°"), ("764", "‡∏°. 764\n‡∏ß‡∏¥‡∏ò‡∏µ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏≥"),
            ("767", "‡∏°. 767\n‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏™‡∏£‡∏£‡πÄ‡∏á‡∏¥‡∏ô")
        ],
        "edges": [
            ("747", "748"), ("764", "767")
        ],
        "color": "#FFF3E0" # ‡∏™‡πâ‡∏°‡∏≠‡πà‡∏≠‡∏ô
    }
}

# --- Sidebar ---
st.sidebar.title("üìå ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô")
choice = st.sidebar.radio("‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤:", ["‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å (Home)", "‡∏Ñ‡πâ‡∏≥‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô", "‡∏à‡∏≥‡∏ô‡∏≥", "‡∏à‡∏≥‡∏ô‡∏≠‡∏á", "‡∏ô‡∏¥‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°/‡∏•‡∏∞‡πÄ‡∏°‡∏¥‡∏î/‡∏≠‡∏∑‡πà‡∏ô‡πÜ"])

# --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ß‡∏≤‡∏î‡∏ä‡∏≤‡∏£‡πå‡∏ï‡∏™‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏° ---
def draw_rect_chart(category):
    data = law_data[category]
    dot = graphviz.Digraph()
    dot.attr(rankdir='LR', size='12')
    
    # ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Node ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    dot.attr('node', shape='box', style='filled, rounded', 
             fontname='Tahoma', fontsize='11', fillcolor=data['color'])
    
    # ‡∏™‡∏£‡πâ‡∏≤‡∏á Node
    for node_id, label in data['nodes']:
        dot.node(node_id, label)
    
    # ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡πâ‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°
    for start, end in data['edges']:
        dot.edge(start, end)
        
    return dot

# --- ‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ï‡∏≤‡∏°‡∏´‡∏ô‡πâ‡∏≤ ---
if choice == "‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å (Home)":
    st.markdown("<h1 style='text-align: center;'>‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡πà‡∏ß‡∏¢‡∏à‡∏≥‡∏°‡∏≤‡∏ï‡∏£‡∏≤‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢</h1>", unsafe_allow_html=True)
    st.markdown("<p style='text-align: center;'>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡πÅ‡∏ú‡∏ô‡∏ú‡∏±‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Ç‡∏≠‡∏á‡∏°‡∏≤‡∏ï‡∏£‡∏≤‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</p>", unsafe_allow_html=True)
    st.info("üí° ‡πÅ‡∏ú‡∏ô‡∏ú‡∏±‡∏á‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏´‡πá‡∏ô '‡∏•‡∏≥‡∏î‡∏±‡∏ö' ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏≠‡∏ö")

elif choice in law_data:
    st.header(f"‚öñÔ∏è ‡πÅ‡∏ú‡∏ô‡∏ú‡∏±‡∏á {choice}")
    st.graphviz_chart(draw_rect_chart(choice))
    
    # ‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏°‡∏≤‡∏ï‡∏£‡∏≤
    st.divider()
    selected_node = st.selectbox("‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏°‡∏≤‡∏ï‡∏£‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:", [n[1].replace('\n', ' ') for n in law_data[choice]['nodes']])
    st.write(f"üîç ‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤: **{selected_node}**")
    st.caption("‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏û‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏û‡∏≤‡∏ì‡∏¥‡∏ä‡∏¢‡πå‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏π‡πà‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ó‡∏µ‡πà‡∏•‡∏∂‡∏Å‡∏ã‡∏∂‡πâ‡∏á")

else:
    st.warning("‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏°‡∏≤‡∏ï‡∏£‡∏≤")import streamlit as st
import graphviz

# --- ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ ---
st.set_page_config(page_title="Law Mapping System", layout="wide")

# --- ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡∏ï‡∏£‡∏≤‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢ (‡∏à‡∏±‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô Flow) ---
law_data = {
    "‡∏Ñ‡πâ‡∏≥‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô": {
        "nodes": [
            ("680", "‡∏°. 680\n‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏Ñ‡πâ‡∏≥‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô"), ("681", "‡∏°. 681\n‡∏´‡∏ô‡∏µ‡πâ‡∏õ‡∏£‡∏∞‡∏ò‡∏≤‡∏ô‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå"), 
            ("681/1", "‡∏°. 681/1\n‡∏´‡πâ‡∏≤‡∏°‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏µ‡πâ‡∏£‡πà‡∏ß‡∏°"), ("682", "‡∏°. 682\n‡∏Ñ‡πâ‡∏≥‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏ô"),
            ("685", "‡∏°. 685\n‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô"), ("686", "‡∏°. 686\n‡∏Å‡∏≤‡∏£‡∏ö‡∏≠‡∏Å‡∏Å‡∏•‡πà‡∏≤‡∏ß (60 ‡∏ß‡∏±‡∏ô)"),
            ("687", "‡∏°. 687\n‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πÑ‡∏°‡πà‡∏ä‡∏≥‡∏£‡∏∞‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î"), ("688", "‡∏°. 688\n‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏Ñ‡∏ô‡πÅ‡∏£‡∏Å"),
            ("689", "‡∏°. 689\n‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏á‡πà‡∏≤‡∏¢"), ("690", "‡∏°. 690\n‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏à‡∏≥‡∏ô‡∏≥"),
            ("692", "‡∏°. 692\n‡∏≠‡∏≤‡∏¢‡∏∏‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏∏‡∏î‡∏´‡∏¢‡∏∏‡∏î‡∏•‡∏á"), ("693", "‡∏°. 693\n‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πÑ‡∏•‡πà‡πÄ‡∏ö‡∏µ‡πâ‡∏¢"),
            ("694", "‡∏°. 694\n‡∏Å‡∏≤‡∏£‡∏¢‡∏Å‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ‡∏•‡∏π‡∏Å‡∏´‡∏ô‡∏µ‡πâ"), ("695", "‡∏°. 695\n‡∏™‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ"),
            ("696", "‡∏°. 696\n‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡πÑ‡∏•‡πà‡πÄ‡∏ö‡∏µ‡πâ‡∏¢"), ("697", "‡∏°. 697\n‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡∏µ‡πâ‡∏ó‡∏≥‡πÄ‡∏™‡∏µ‡∏¢‡∏™‡∏¥‡∏ó‡∏ò‡∏¥"),
            ("699", "‡∏°. 699\n‡πÄ‡∏•‡∏¥‡∏Å‡∏Ñ‡πâ‡∏≥‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï"), ("701", "‡∏°. 701\n‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡∏ä‡∏≥‡∏£‡∏∞‡∏´‡∏ô‡∏µ‡πâ")
        ],
        "edges": [
            ("680", "681"), ("681", "681/1"), ("686", "688"), ("686", "689"), 
            ("686", "690"), ("693", "694"), ("693", "695")
        ],
        "color": "#E3F2FD" # ‡∏ü‡πâ‡∏≤‡∏≠‡πà‡∏≠‡∏ô
    },
    "‡∏à‡∏≥‡∏ô‡∏≠‡∏á": {
        "nodes": [
            ("702", "‡∏°. 702\n‡∏´‡∏•‡∏±‡∏Å‡∏à‡∏≥‡∏ô‡∏≠‡∏á"), ("703", "‡∏°. 703\n‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏à‡∏≥‡∏ô‡∏≠‡∏á‡πÑ‡∏î‡πâ"),
            ("705", "‡∏°. 705\n‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏à‡∏≥‡∏ô‡∏≠‡∏á"), ("709", "‡∏°. 709\n‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏´‡∏ô‡∏µ‡πâ‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô"),
            ("711", "‡∏°. 711\n‡∏Ç‡πâ‡∏≠‡∏ï‡∏Å‡∏•‡∏á‡πÇ‡∏°‡∏Ü‡∏∞"), ("712", "‡∏°. 712\n‡∏à‡∏≥‡∏ô‡∏≠‡∏á‡∏ã‡πâ‡∏≠‡∏ô"),
            ("713", "‡∏°. 713\n‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡πà‡∏á‡∏à‡∏≥‡∏ô‡∏≠‡∏á"), ("714", "‡∏°. 714\n‡πÅ‡∏ö‡∏ö (‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠/‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô)"),
            ("714/1", "‡∏°. 714/1\n‡∏Ç‡πâ‡∏≠‡∏ï‡∏Å‡∏•‡∏á‡∏ï‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏°‡∏Ü‡∏∞"), ("715", "‡∏°. 715\n‡∏´‡∏ô‡∏µ‡πâ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á"),
            ("716", "‡∏°. 716\n‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡πÅ‡∏¢‡∏Å‡∏™‡∏≤‡∏¢"), ("718", "‡∏°. 718\n‡∏Ñ‡∏£‡∏≠‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡∏ß‡∏ö"),
            ("719", "‡∏°. 719\n‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏≠‡∏ö‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà"), ("720", "‡∏°. 720\n‡∏Ñ‡∏£‡∏≠‡∏ö‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡∏ñ‡∏∂‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô"),
            ("721", "‡∏°. 721\n‡∏Ñ‡∏£‡∏≠‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£"), ("722", "‡∏°. 722\n‡∏•‡∏ö‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏™‡∏¥‡∏ó‡∏ò‡∏¥"),
            ("724", "‡∏°. 724\n‡∏ú‡∏π‡πâ‡∏à‡∏≥‡∏ô‡∏≠‡∏á‡πÑ‡∏•‡πà‡πÄ‡∏ö‡∏µ‡πâ‡∏¢"), ("727/1", "‡∏°. 727/1\n‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î"),
            ("728", "‡∏°. 728\n‡∏ö‡∏≠‡∏Å‡∏Å‡∏•‡πà‡∏≤‡∏ß‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö"), ("729/1", "‡∏°. 729/1\n‡∏Ç‡∏≤‡∏¢‡∏ó‡∏≠‡∏î‡∏ï‡∏•‡∏≤‡∏î‡πÄ‡∏≠‡∏á"),
            ("733", "‡∏°. 733\n‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≤‡∏î"), ("745", "‡∏°. 745\n‡∏Ç‡∏≤‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏Ñ‡∏ß‡∏≤‡∏°")
        ],
        "edges": [
            ("702", "714"), ("714", "718"), ("718", "719"), ("718", "720"),
            ("728", "729/1"), ("728", "733")
        ],
        "color": "#E8F5E9" # ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏≠‡πà‡∏≠‡∏ô
    },
    "‡∏à‡∏≥‡∏ô‡∏≥": {
        "nodes": [
            ("747", "‡∏°. 747\n‡∏´‡∏•‡∏±‡∏Å‡∏à‡∏≥‡∏ô‡∏≥ (‡∏™‡πà‡∏á‡∏°‡∏≠‡∏ö)"), ("748", "‡∏°. 748\n‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î"),
            ("758", "‡∏°. 758\n‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏¢‡∏∂‡∏î‡∏´‡∏ô‡πà‡∏ß‡∏á"), ("762", "‡∏°. 762\n‡∏Ñ‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå"),
            ("763", "‡∏°. 673\n‡∏≠‡∏≤‡∏¢‡∏∏‡∏Ñ‡∏ß‡∏≤‡∏°"), ("764", "‡∏°. 764\n‡∏ß‡∏¥‡∏ò‡∏µ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏≥"),
            ("767", "‡∏°. 767\n‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏™‡∏£‡∏£‡πÄ‡∏á‡∏¥‡∏ô")
        ],
        "edges": [
            ("747", "748"), ("764", "767")
        ],
        "color": "#FFF3E0" # ‡∏™‡πâ‡∏°‡∏≠‡πà‡∏≠‡∏ô
    }
}

# --- Sidebar ---
st.sidebar.title("üìå ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô")
choice = st.sidebar.radio("‡∏£‡∏≤‡∏¢‡∏ß‡∏¥‡∏ä‡∏≤:", ["‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å (Home)", "‡∏Ñ‡πâ‡∏≥‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô", "‡∏à‡∏≥‡∏ô‡∏≥", "‡∏à‡∏≥‡∏ô‡∏≠‡∏á", "‡∏ô‡∏¥‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°/‡∏•‡∏∞‡πÄ‡∏°‡∏¥‡∏î/‡∏≠‡∏∑‡πà‡∏ô‡πÜ"])

# --- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ß‡∏≤‡∏î‡∏ä‡∏≤‡∏£‡πå‡∏ï‡∏™‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏° ---
def draw_rect_chart(category):
    data = law_data[category]
    dot = graphviz.Digraph()
    dot.attr(rankdir='LR', size='12')
    
    # ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Node ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏µ‡πà‡∏¢‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    dot.attr('node', shape='box', style='filled, rounded', 
             fontname='Tahoma', fontsize='11', fillcolor=data['color'])
    
    # ‡∏™‡∏£‡πâ‡∏≤‡∏á Node
    for node_id, label in data['nodes']:
        dot.node(node_id, label)
    
    # ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡πâ‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°
    for start, end in data['edges']:
        dot.edge(start, end)
        
    return dot

# --- ‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ï‡∏≤‡∏°‡∏´‡∏ô‡πâ‡∏≤ ---
if choice == "‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å (Home)":
    st.markdown("<h1 style='text-align: center;'>‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡πà‡∏ß‡∏¢‡∏à‡∏≥‡∏°‡∏≤‡∏ï‡∏£‡∏≤‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢</h1>", unsafe_allow_html=True)
    st.markdown("<p style='text-align: center;'>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡πÅ‡∏ú‡∏ô‡∏ú‡∏±‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Ç‡∏≠‡∏á‡∏°‡∏≤‡∏ï‡∏£‡∏≤‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</p>", unsafe_allow_html=True)
    st.info("üí° ‡πÅ‡∏ú‡∏ô‡∏ú‡∏±‡∏á‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏´‡πá‡∏ô '‡∏•‡∏≥‡∏î‡∏±‡∏ö' ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏≠‡∏ö")

elif choice in law_data:
    st.header(f"‚öñÔ∏è ‡πÅ‡∏ú‡∏ô‡∏ú‡∏±‡∏á {choice}")
    st.graphviz_chart(draw_rect_chart(choice))
    
    # ‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏°‡∏≤‡∏ï‡∏£‡∏≤
    st.divider()
    selected_node = st.selectbox("‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏°‡∏≤‡∏ï‡∏£‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:", [n[1].replace('\n', ' ') for n in law_data[choice]['nodes']])
    st.write(f"üîç ‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏®‡∏∂‡∏Å‡∏©‡∏≤: **{selected_node}**")
    st.caption("‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏¥‡∏î‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏û‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏û‡∏≤‡∏ì‡∏¥‡∏ä‡∏¢‡πå‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏π‡πà‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ó‡∏µ‡πà‡∏•‡∏∂‡∏Å‡∏ã‡∏∂‡πâ‡∏á")

else:
    st.warning("‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏°‡∏≤‡∏ï‡∏£‡∏≤")
